# ===============================
# Server Config
# ===============================
# PORT is NOT set here â€” Cloud Run injects PORT=8080 automatically.
# For local development, the server.js fallback defaults to 8080.
NODE_ENV=development

# ===============================
# CORS
# ===============================
# Use comma-separated origins for multiple domains
# Example: https://yourdomain.com,https://www.yourdomain.com,http://localhost:3000
CORS_ORIGIN=https://your-frontend-domain.vercel.app,https://your-admin-domain.vercel.app,http://localhost:3001,http://localhost:3000,https://www.yourdomain.com

# ===============================
# Database
# ===============================
# MongoDB Connection URI
# Format: mongodb+srv://username:password@cluster.mongodb.net/database
MONGO_URI=mongodb+srv://your_username:your_password@your_cluster.mongodb.net/your_database

# ===============================
# JWT Config
# ===============================
# Generate secure secrets using: node -e "console.log(require('crypto').randomBytes(64).toString('base64'))"
JWT_SECRET=your_jwt_secret_here_minimum_32_characters
JWT_SECRET_EXPIRY=30m
JWT_REFRESH_SECRET=your_jwt_refresh_secret_here_minimum_32_characters
JWT_REFRESH_SECRET_EXPIRY=7d

# ===============================
# Cloudinary Config (Image Upload)
# ===============================
# Get from: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# ===============================
# Email Config (Nodemailer Gmail)
# ===============================
# Use App Password for Gmail: https://myaccount.google.com/apppasswords
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password_here

# ===============================
# SMS Config (Twilio)
# ===============================
# Get from: https://console.twilio.com
TWILIO_SID=your_account_sid_here
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_PHONE=+1234567890

# ===============================
# Google OAuth Config
# ===============================
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:8000/api/v1/auth/user/google/callback,https://your-backend-domain.run.app/api/v1/auth/user/google/callback
SESSION_SECRET=your_session_secret_minimum_32_characters

# ===============================
# Razorpay Payment Gateway Config
# ===============================
# IMPORTANT: These credentials are ONLY for ADMIN SUBSCRIPTION PAYMENTS
# Admins configure their own credentials via /payment-config endpoints
# ===============================
# Get from: https://dashboard.razorpay.com/app/keys
# Use TEST keys (rzp_test_) for development, LIVE keys (rzp_live_) for production
RAZORPAY_KEY_ID=rzp_live_your_key_id
RAZORPAY_KEY_SECRET=your_razorpay_key_secret
RAZORPAY_WEBHOOK_SECRET=your_webhook_secret

# Razorpay Environment URLs (automatically handled by SDK)
# RAZORPAY_BASE_URL=https://api.razorpay.com/v1                     # Production (default)

# Razorpay Callback URLs
RAZORPAY_REDIRECT_URL=https://your-backend-domain.run.app/api/v1/payment/razorpay/callback
RAZORPAY_WEBHOOK_URL=https://your-backend-domain.run.app/api/v1/webhooks/razorpay

# ===============================
# Super Admin & Subscription Config
# ===============================
SUPER_ADMIN_MAX_OTP_ATTEMPTS=3
SUPER_ADMIN_OTP_EXPIRY_MINUTES=10
SUBSCRIPTION_GRACE_PERIOD_DAYS=3
SUBSCRIPTION_REMINDER_DAYS=7,3,1

# Background Jobs (Set to false to disable)
ENABLE_SUBSCRIPTION_JOBS=true

# ===============================
# Assignment config
# ===============================
MAX_ORDERS_PER_WAITER=20
MONITORING_INTERVAL=30000
ORDER_TIMEOUT_MINUTES=60
CLEANUP_INTERVAL=3600000
MAX_PREPARATION_TIME=45
MAX_QUEUE_SIZE=100
ENABLE_EMAIL_QUEUE=true  # Enable/disable email queue processor

# Frontend URL for payment redirects
FRONTEND_URL=https://www.yourdomain.com

# ===============================
# Multi-Provider Payment System
# ===============================
# CRITICAL: Generate encryption key with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# This key is used to encrypt restaurant payment credentials in database
ENCRYPTION_KEY=your_32_character_hex_encryption_key

# Backend URL for webhooks (update in production)
BACKEND_URL=http://localhost:8000,https://your-backend-domain.run.app

# PhonePe Configuration (for future use)
PHONEPE_ENV=sandbox
# PHONEPE_ENV=production

# Paytm Configuration (for future use)
PAYTM_ENV=staging
# PAYTM_ENV=production
